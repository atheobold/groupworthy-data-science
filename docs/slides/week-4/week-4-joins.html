<!DOCTYPE html>
<html lang="en"><head>
<link href="../../images/stat-331-hex.png" rel="icon" type="image/png">
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <title>Introduction to Statistical Computing in R – Extending Joins, Factors, Clean Variable Names</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-c990e76e4e8f51fe5aa6f0d132950ebc.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="../../site_libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Extending Joins, Factors, Clean Variable Names</h1>

<div class="quarto-title-authors">
</div>

</section>
<section id="thursday-october-17" class="slide level2">
<h2>Thursday, October 17</h2>
<p>Today we will…</p>
<div class="columns">
<div class="column" style="width:55%;">
<div class="small">
<ul>
<li>Debrief PA 4
<ul>
<li>Describe the Code</li>
<li>Clean Column Names<br>
</li>
</ul></li>
<li>Debrief Lab 3 &amp; Challenge 3
<ul>
<li>Common Themes</li>
<li>Package Lifecycle Stages</li>
<li>Expectations for Tools Used</li>
<li>Reminder about Lab 3 Peer Review</li>
</ul></li>
</ul>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:40%;">
<div class="small">
<ul>
<li>New Material
<ul>
<li>Relational Data</li>
<li>Factors with <code>forcats</code></li>
</ul></li>
<li><a href="../../labs/instructions/lab-4-instructions.html">Lab 4: Childcare Costs in California</a></li>
</ul>
</div>
</div></div>
</section>
<section>
<section id="practice-activity-4" class="title-slide slide level1 center">
<h1>Practice Activity 4</h1>

<!-- # `janitor` Package -->
<!-- ![Image by Allison Horst](images/janitor_clean_names.png){fig-alt="janitor::clean_names(): convert all column names to *_case! Below, a cartoon beaver putting shapes with long, messy column names (pulled from a bin labeled 'MESS' and 'not so awesome column names') into a contraption that converts them to lower snake case. The output has stylized text reading 'Way more deal-withable column names.' Learn more about clean_names and other *awesome* data cleaning tools in janitor."} -->
<!-- ## Clean Variable Names with [`janitor`](https://sfirke.github.io/janitor/) -->
<!-- ::: {.small} -->
<!-- Data from external sources likely has variable names not ideally formatted for R. -->
<!-- Names may... -->
<!-- + contain spaces. -->
<!-- + start with numbers. -->
<!-- + start with a mix of capital and lower case letters. -->
<!-- ::: -->
<!-- . . . -->
<!-- ```{r} -->
<!-- #| eval: true -->
<!-- #| echo: true -->
<!-- #| code-line-numbers: false -->
<!-- names(military_clean)[1:12] -->
<!-- ``` -->
<!-- ## Clean Variable Names with [`janitor`](https://sfirke.github.io/janitor/) -->
<!-- ::: {.small} -->
<!-- The `janitor` package converts all variable names in a dataset to *snake_case*. -->
<!-- Names will... -->
<!-- + start with a lower case letter. -->
<!-- + have spaces filled in with `_`. -->
<!-- ```{r} -->
<!-- #| eval: true -->
<!-- #| echo: true -->
<!-- #| code-line-numbers: "3-5" -->
<!-- library(janitor) -->
<!-- military_clean_names <- military |>  -->
<!--   clean_names() -->
<!-- names(military_clean_names)[1:12] -->
<!-- ``` -->
<!-- ::: -->
<img data-src="images/frustrated-about-r.png" alt="A frustrated little monster sits on the ground with his hat next to him, saying 'I just need a minute.' Looking on empathetically is the R logo, with the word 'Error' in many different styles behind it." class="r-stretch"></section>
<section id="lab-3-common-themes" class="slide level2">
<h2>Lab 3 Common Themes</h2>
<div class="small">
<ul>
<li class="fragment"><p><strong>Q1:</strong> The <a href="https://www.tidyverse.org/packages/"><code>tidyverse</code></a> package automatically loads <code>ggplot2</code>, <code>dplyr</code>, <code>readr</code>, etc. – do not load these twice!</p></li>
<li class="fragment"><p><strong>Q3:</strong> Where did these data come from? How were they collected? What is the context of these data?</p>
<ul>
<li class="fragment"><strong>Challenge 3:</strong> When reaching a conclusion with the hypothesis test, what does Question 3 refer to?</li>
</ul></li>
<li class="fragment"><p>Saving an f*$# load of objects</p>
<ul>
<li class="fragment">Not outputting the results</li>
</ul></li>
</ul>
</div>
</section>
<section id="lab-3-common-themes-1" class="slide level2">
<h2>Lab 3 Common Themes</h2>
<div class="small">
<ul>
<li><strong>Q5 &amp; Q7</strong>: Not using the “correct” function syntax</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">if_any</span>(<span class="at">.cols =</span> <span class="fu">everything</span>(), <span class="at">.fns =</span> <span class="sc">~</span> <span class="fu">is.na</span>(.x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="small">
<ul>
<li class="fragment">Not using <code>.x</code> to specify where the <code>.cols</code> input should go will go awry when there are <strong>multiple</strong> function inputs.</li>
<li class="fragment">Using named arguments (e.g., <code>.cols =</code>, <code>.fns =</code>) makes your code more readable and is part of the code formatting guidelines for this class.</li>
</ul>
<p><br></p>
<ul>
<li class="fragment">Think about “efficient” ways to do things
<ul>
<li class="fragment"><strong>Q5</strong>: Are you using the same function <code>across()</code> multiple columns?</li>
<li class="fragment"><strong>Q6</strong>: Can you calculate multiple summary statistics in one pipeline?</li>
<li class="fragment"><strong>Q10-12</strong>: Is there a way you can get <strong>both</strong> the max <em>and</em> min in one pipeline?</li>
</ul></li>
</ul>
</div>
</section></section>
<section>
<section id="lifecycle-stages" class="title-slide slide level1 center">
<h1>Lifecycle Stages</h1>

</section>
<section id="lifceycle-stages" class="slide level2">
<h2>Lifceycle Stages</h2>
<p>As packages get updated, the functions and function arguments included in those packages will change.</p>
<ul>
<li>The accepted syntax for a function may change.</li>
<li>A function/functionality may disappear.</li>
</ul>

<img data-src="images/lifecycle.png" alt="The image shows a flow diagram representing the lifecycle stages of a feature or process. It consists of four colored boxes with arrows connecting them. The green box in the center labeled stable is the main stage. To the left, an orange box labeled experimental has an arrow pointing toward stable, indicating that experimental features can progress to become stable. From stable, one arrow points upward to another orange box labeled deprecated, indicating that stable features can become deprecated. Another arrow points right to a dark blue box labeled superseded, showing that stable features can also be replaced or superseded." class="r-stretch quarto-figure-center"><p class="caption"><a href="https://lifecycle.r-lib.org/articles/stages.html">Learn more about lifecycle stages</a> of packages, functions, function arguments in R.</p></section>
<section id="lifceycle-stages-1" class="slide level2">
<h2>Lifceycle Stages</h2>
<center>
<p><img data-src="images/summarize_lifecycle.png" style="width:70.0%" alt="The image shows the documentation for the summarise() (or summarize(), using the American spelling) function in R, commonly used in the dplyr package for data manipulation. The summarise() function is used to create summary statistics for data frames or tibbles. The key arguments include .data, which is the data frame or tibble input, and ..., which represents name-value pairs of summary functions. The .by and .groups arguments are optional and used to control grouping behavior in the summarization. A key point in the documentation is that returning values with size 0 or greater than 1 in summary functions, such as min(), n(), or sum(), was deprecated as of version 1.1.0. Instead, users are encouraged to use the reframe() function, which replaces the deprecated behavior. The lifecycle badge marks the deprecation of this feature, ensuring that users know that previous versions' behavior should be updated for compatibility with future versions of the package."></p>
</center>
</section>
<section id="deprecated-functions" class="slide level2">
<h2>Deprecated Functions</h2>
<div class="small">
<p>A <strong>deprecated</strong> functionality has a better alternative available and is scheduled for removal.</p>
<ul>
<li>You get a warning telling you what to use instead.</li>
</ul>
</div>
<div class="fragment">
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb2" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a>military_clean <span class="sc">|&gt;</span> </span>
<span id="cb2-2"><a></a>  <span class="fu">filter</span>(<span class="fu">across</span>(<span class="at">.cols =</span> Notes<span class="sc">:</span><span class="st">`</span><span class="at">2019</span><span class="st">`</span>, </span>
<span id="cb2-3"><a></a>                <span class="at">.fns =</span> <span class="sc">~</span> <span class="fu">is.na</span>(.x)</span>
<span id="cb2-4"><a></a>                )</span>
<span id="cb2-5"><a></a>         ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="deprecated-functions-1" class="slide level2">
<h2>Deprecated Functions</h2>
<div class="small">
<p>You <strong>should not</strong> use deprecated functions!</p>
<p>Instead, we use…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a>military_clean <span class="sc">|&gt;</span></span>
<span id="cb3-2"><a></a>  <span class="fu">filter</span>(<span class="fu">if_all</span>(<span class="at">.cols =</span> Notes<span class="sc">:</span><span class="st">`</span><span class="at">2019</span><span class="st">`</span>, </span>
<span id="cb3-3"><a></a>                <span class="at">.fns =</span> <span class="sc">~</span> <span class="fu">is.na</span>(.x)</span>
<span id="cb3-4"><a></a>                )</span>
<span id="cb3-5"><a></a>         ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="superceded-functions" class="slide level2">
<h2>Superceded Functions</h2>
<p>A <strong>superseded</strong> functionality has a better alternative, but is not going away.</p>
<ul>
<li>This is a softer alternative to deprecation.</li>
<li>A superseded function will not give a warning (since there’s no risk if you keep using it), but the documentation will give you a recommendation for what to use instead.</li>
</ul>
</section>
<section id="what-is-my-job" class="slide level2">
<h2>What is my job?</h2>
<p><br></p>
<div class="columns">
<div class="column" style="width:40%;">
<div class="fragment">
<p><strong>Teaching you stuff</strong></p>
<p><br></p>
<p>(Thoughtfully) choosing what to teach and how to teach it.</p>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:55%;">
<div class="fragment">
<p><strong>Assessing what you’ve learned</strong></p>
<p><br></p>
<p>What do you understand about the tools I’ve taught you?</p>
<div class="fragment">
<p>This <strong>is not</strong> the same as assessing if you figured out a way to accomplish a given task.</p>
</div>
</div>
</div></div>
</section></section>
<section id="dont-forget-to-complete-your-lab-3-code-review" class="title-slide slide level1 center">
<h1>Don’t Forget to Complete Your Lab 3 Code Review</h1>
<blockquote>
<p>Make sure your feedback follows the <a href="../../code-review/code-review-guidelines.html">code review guidelines</a>.</p>
</blockquote>
<blockquote>
<p>Insert your review into the comment box!</p>
</blockquote>
</section>

<section>
<section id="relational-data" class="title-slide slide level1 center">
<h1>Relational Data</h1>
<!-- Multiple, interconnected tables of data are called **relational**. -->
<!-- + It is the *relation* between datasets, not just the individual datasets themselves, that are important. -->
</section>
<section id="data-joins" class="slide level2">
<h2>Data Joins</h2>
<p>We can <strong>combine</strong> (join) data tables based on their relations.</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Mutating joins</strong></p>
<p>Add <em>variables</em> from a new dataframe to observations in an existing dataframe.</p>
<p><code>left_join()</code>,<br>
<code>right_join()</code>,<br>
<code>inner_join()</code>,<br>
<code>full_join()</code></p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:45%;">
<p><strong>Filtering Joins</strong></p>
<p>Filter <em>observations</em> based on values in new dataframe.</p>
<p><code>semi_join()</code>, <code>anti_join()</code></p>
</div></div>
</section>
<section id="keys" class="slide level2">
<h2>Keys</h2>
<div class="midi">
<p>A key uniquely identifies an observation in a data set.</p>
<ul>
<li>To combine (join) two datasets, the <strong>key</strong> needs to be present in both.</li>
</ul>
</div>
<div class="fragment">
<p><img data-src="images/military-relational-diagram.jpg" style="width:85.0%" alt="An image of two datasets, one named military_expenditures and one named region_totals. The military_expenditures datast has five (visible) columns titled: Country, Year, Expenditures, Notes, Reporting year. The region_totals dataset has 13 (visible) columns: Region, 1950, 1951, 1952, 1953, 1954, 1955, 1956, 9157, 1958, 1959, 1960, and 1961. The Country column of military_expenditures is highlighted in red and the Region column of the region_totals column is also highlighted in red. The image is highlighting these columns as they are 'keys' linking the two datasets with one another."></p>
</div>
</section>
<section id="filtering-joins-semi_join" class="slide level2">
<h2>Filtering Joins: <code>semi_join()</code></h2>
<p>Keeps observations when their keys are present in <strong>both</strong> datasets, <strong>but only keeps variables from the first dataset</strong>.</p>

<img data-src="https://github.com/gadenbuie/tidyexplain/raw/main/images/semi-join.gif" alt="A looping animation shows two tables side by side and the result of a semi join. The left table (x) has keys 1 (red), 2 (blue), 3 (green) paired with x1, x2, x3. The right table (y) has keys 1 (red), 2 (blue), 4 (purple) paired with y1, y2, y4. Matching key rows (1 and 2) are connected. The resulting output table includes only the rows from the left table that have matches in the right table: key 1 with x1 and key 2 with x2. The left row with key 3 is dropped, and no new columns from y are shown." class="r-stretch quarto-figure-center"><p class="caption">© Garrick Aden-Buie</p></section>
<section id="filtering-joins-semi_join-1" class="slide level2">
<h2>Filtering Joins: <code>semi_join()</code></h2>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1"><code>semi_join()</code></a></li><li><a href="#tabset-1-2">Connection to <code>filter()</code></a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a aria-hidden="true" tabindex="-1"></a>directors_genres <span class="sc">|&gt;</span> </span>
<span id="cb4-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">semi_join</span>(movies_directors)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!-- Movie Directors: 429, ~~**2931**~~, 11652, 14927, 15092 -->
</div>
<div id="tabset-1-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a aria-hidden="true" tabindex="-1"></a>directors_genres <span class="sc">|&gt;</span></span>
<span id="cb5-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(director_id <span class="sc">%in%</span> movies_directors<span class="sc">$</span>director_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="filtering-joins-anti_join" class="slide level2">
<h2>Filtering Joins: <code>anti_join()</code></h2>
<p><strong>Removes</strong> observations when their keys are present in <strong>both</strong> datasets, and <strong>only keeps variables from the first dataset</strong>.</p>

<!-- :::: {.columns} -->
<!-- ::: {.column width="60%"} -->
<!-- ![](images/semi1.png){fig-alt="Two tables on the left labeled 'x' and 'y,' each with two columns, show key-value pairs. The 'x' table contains a key column with values 1, 2, and 3 and a value column with 'x1,' 'x2,' and 'x3.' The 'y' table contains a key column with values 1, 2, and 4 and a value column with 'y1,' 'y2,' and 'y4.'"} -->
<!-- ::: -->
<!-- ::: {.column width="15%"} -->
<!-- <br> -->
<!-- ::: {.r-fit-text} -->
<!-- &rarr; &emsp; -->
<!-- ::: -->
<!-- ::: -->
<!-- ::: {.column width="25%"} -->
<!-- <br> -->
<!-- ![](images/anti2.png){fi-alt="An arrow points to the right, showing the result of an anti join. The resulting table includes the row from 'x' where the key (3) does not have a corresponding match in 'y.' It contains only the key-value pair (3, x3), demonstrating that the anti join keeps only the unmatched rows from the left table ('x')."} -->
<!-- ::: -->
<!-- :::: -->
<img data-src="https://github.com/gadenbuie/tidyexplain/raw/main/images/anti-join.gif" alt="A looping animation shows two tables being compared under an ‘anti join’ operation. The left table has keys 1 (red), 2 (blue), 3 (green) paired with values x1, x2, x3. The right table has keys 1 (red), 2 (blue), and 4 (purple) paired with values y1, y2, y4. Lines indicate matching keys (1 and 2). The resulting table on the right contains only the rows from the left table that do not have a match in the right: key 3 with x3 (green). Keys 1 and 2 are excluded because they have matches in the right table." class="r-stretch quarto-figure-center"><p class="caption">© Garrick Aden-Buie</p></section>
<section id="filtering-joins-anti_join-1" class="slide level2">
<h2>Filtering Joins: <code>anti_join()</code></h2>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1"><code>anti_join()</code></a></li><li><a href="#tabset-2-2">Connection to <code>filter()</code></a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a aria-hidden="true" tabindex="-1"></a>directors_genres <span class="sc">|&gt;</span> </span>
<span id="cb6-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(movies_directors)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Movie Directors: <del>429</del>, <strong>2931</strong>, <del>11652</del>, <del>14927</del>, <del>15092</del></p>
</div>
<div id="tabset-2-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a aria-hidden="true" tabindex="-1"></a>directors_genres <span class="sc">|&gt;</span></span>
<span id="cb7-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>director_id <span class="sc">%in%</span> movies_directors<span class="sc">$</span>director_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<!-- ![IMDb movie relational data](images/imdb_relational.png){fig-alt="A diagram depicting the relationships between various tables in a movie database. The tables and their columns are as follows. directors_genres: Contains 'director_id' (int), 'genre' (varchar), and 'prob' (float). Linked to the 'directors' table by 'director_id.' movies_directors: Contains 'director_id' (int) and 'movie_id' (int). Linked to both the 'directors' and 'movies' tables by 'director_id' and 'movie_id.' movies_genres: Contains 'movie_id' (int) and 'genre' (varchar). Linked to the 'movies' table by 'movie_id.' roles: Contains 'actor_id' (int), 'movie_id' (int), and 'role' (varchar). Linked to both the 'actors' and 'movies' tables by 'actor_id' and 'movie_id.' The following entity tables are represented at the bottom: directors: Contains 'id' (int), 'first_name' (varchar), and 'last_name' (varchar). movies: Contains 'id' (int), 'name' (varchar), 'year' (int), and 'rank' (float). actors: Contains 'id' (int), 'first_name' (varchar), 'last_name' (varchar), and 'gender' (char). Arrows represent relationships between the various tables, with foreign keys connecting them."} -->
<!-- ```{r} -->
<!-- #| eval: false -->
<!-- #| include: false -->
<!-- #| message: false -->
<!-- #| warning: false -->
<!-- #| label: imdb-data-import -->
<!-- library(RMariaDB) -->
<!-- library(dm) -->
<!-- # IMDb -->
<!-- con <- dbConnect( -->
<!--   drv = RMariaDB::MariaDB(),  -->
<!--   username = "guest", -->
<!--   password = "relational",  -->
<!--   host = "relational.fit.cvut.cz",  -->
<!--   port = 3306, -->
<!--   dbname = "imdb_small") -->
<!-- dbListTables(con) -->
<!-- my_dm <- dm_from_src(con) -->
<!-- actors <- my_dm$actors |>  -->
<!--   as.data.frame() -->
<!-- write_csv(actors, "data/actors.csv", na = "") -->
<!-- directors <- my_dm$directors |>  -->
<!--   as.data.frame() -->
<!-- write_csv(directors, "data/directors.csv", na = "") -->
<!-- directors_genres <- my_dm$directors_genres |>  -->
<!--   as.data.frame() -->
<!-- write_csv(directors_genres, "data/directors_genres.csv", na = "") -->
<!-- movies <- my_dm$movies |>  -->
<!--   as.data.frame() -->
<!-- write_csv(movies, "data/movies.csv", na = "") -->
<!-- movies_directors <- my_dm$movies_directors |>  -->
<!--   as.data.frame() -->
<!-- write_csv(movies_directors, "data/movies_directors.csv", na = "") -->
<!-- movies_genres <- my_dm$movies_genres |>  -->
<!--   as.data.frame() -->
<!-- write_csv(movies_genres, "data/movies_genres.csv", na = "") -->
<!-- roles <- my_dm$roles |>  -->
<!--   as.data.frame() -->
<!-- write_csv(roles, "data/roles.csv", na = "") -->
<!-- dbDisconnect(con) -->
<!-- rm(con, my_dm) -->
<!-- ``` -->
<!-- ```{r} -->
<!-- #| eval: true -->
<!-- #| include: false -->
<!-- #| message: false -->
<!-- #| warning: false -->
<!-- #| label: import-data-retrieved-from-imdb -->
<!-- actors <- read_csv("data/actors.csv") -->
<!-- directors <- read_csv("data/directors.csv") -->
<!-- directors_genres <- read_csv("data/directors_genres.csv") -->
<!-- movies <- read_csv("data/movies.csv") -->
<!-- movies_directors <- read_csv("data/movies_directors.csv") -->
<!-- movies_genres <- read_csv("data/movies_genres.csv") -->
<!-- roles <- read_csv("data/roles.csv") -->
<!-- ``` -->
</section>
<section id="relational-data-1" class="slide level2">
<h2>Relational Data</h2>
<p>When we work with multiple tables of data, we say we are working with <strong>relational data</strong>.</p>
<ul>
<li>It is the <em>relations</em>, not just the individual datasets, that are important.</li>
</ul>
<div class="fragment">
<p>When we work with relational data, we rely on <strong>keys</strong>.</p>
<ul>
<li>A key uniquely identifies an observation in a dataset.</li>
<li>A key allows us to relate datasets to each other</li>
</ul>
</div>
</section>
<section id="imdb-movies-data" class="slide level2">
<h2>IMDb Movies Data</h2>

<!-- **How can we find each director's active years?** -->
<img data-src="images/imdb-keys.png" alt="A diagram depicting the relationships between various tables in a movie database. The tables and their columns are as follows. directors_genres: Contains 'director_id' (int), 'genre' (varchar), and 'prob' (float). Linked to the 'directors' table by 'director_id.' movies_directors: Contains 'director_id' (int) and 'movie_id' (int). Linked to both the 'directors' and 'movies' tables by 'director_id' and 'movie_id.' movies_genres: Contains 'movie_id' (int) and 'genre' (varchar). Linked to the 'movies' table by 'movie_id.' roles: Contains 'actor_id' (int), 'movie_id' (int), and 'role' (varchar). Linked to both the 'actors' and 'movies' tables by 'actor_id' and 'movie_id.' The following entity tables are represented at the bottom: directors: Contains 'id' (int), 'first_name' (varchar), and 'last_name' (varchar). movies: Contains 'id' (int), 'name' (varchar), 'year' (int), and 'rank' (float). actors: Contains 'id' (int), 'first_name' (varchar), 'last_name' (varchar), and 'gender' (char). Arrows represent relationships between the various tables, with foreign keys connecting them." class="r-stretch"></section>
<section id="inner_join" class="slide level2">
<h2><code>inner_join()</code></h2>
<p>Keeps observations when their keys are present in <strong>both</strong> datasets.</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="images/join_xy.png" alt="This image shows two tables on the left, labeled 'x' and 'y.' The 'x' table contains two columns: a key column with values 1, 2, and 3, and a value column with 'x1,' 'x2,' and 'x3.' The 'y' table also has two columns: a key column with values 1, 2, and 4, and a value column with 'y1,' 'y2,' and 'y3.'"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="images/inner_join.png" alt="This table combines data from both 'x' and 'y.' based on the 'key' column. It contains three columns: 'key,' 'val_x,' and 'val_y.' For key values 1 and 2, the corresponding values from both 'x' and 'y' are shown ('x1' with 'y1' and 'x2' with 'y2'), while the third rows from both original tables are excluded due to the mismatch in key values."></p>
</div></div>
</section>
<section id="inner_join-imdb-example" class="slide level2">
<h2><code>inner_join()</code>: IMDb Example</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a aria-hidden="true" tabindex="-1"></a>directors_genres</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:160px; ">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 30px; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">director_id</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">genre</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">prob</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">429</td>
<td style="text-align: left;">Adventure</td>
<td style="text-align: right;">0.750000</td>
</tr>
<tr class="even">
<td style="text-align: right;">429</td>
<td style="text-align: left;">Fantasy</td>
<td style="text-align: right;">0.750000</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2931</td>
<td style="text-align: left;">Drama</td>
<td style="text-align: right;">0.714286</td>
</tr>
<tr class="even">
<td style="text-align: right;">2931</td>
<td style="text-align: left;">Action</td>
<td style="text-align: right;">0.428571</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11652</td>
<td style="text-align: left;">Sci-Fi</td>
<td style="text-align: right;">0.500000</td>
</tr>
<tr class="even">
<td style="text-align: right;">11652</td>
<td style="text-align: left;">Action</td>
<td style="text-align: right;">0.500000</td>
</tr>
<tr class="odd">
<td style="text-align: right;">14927</td>
<td style="text-align: left;">Animation</td>
<td style="text-align: right;">1.000000</td>
</tr>
<tr class="even">
<td style="text-align: right;">14927</td>
<td style="text-align: left;">Family</td>
<td style="text-align: right;">1.000000</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15092</td>
<td style="text-align: left;">Comedy</td>
<td style="text-align: right;">0.545455</td>
</tr>
<tr class="even">
<td style="text-align: right;">15092</td>
<td style="text-align: left;">Crime</td>
<td style="text-align: right;">0.545455</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a aria-hidden="true" tabindex="-1"></a>movies_directors</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:160px; ">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 30px; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">director_id</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">movie_id</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">429</td>
<td style="text-align: right;">300229</td>
</tr>
<tr class="even">
<td style="text-align: right;">9247</td>
<td style="text-align: right;">124110</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11652</td>
<td style="text-align: right;">10920</td>
</tr>
<tr class="even">
<td style="text-align: right;">11652</td>
<td style="text-align: right;">333856</td>
</tr>
<tr class="odd">
<td style="text-align: right;">14927</td>
<td style="text-align: right;">192017</td>
</tr>
<tr class="even">
<td style="text-align: right;">15092</td>
<td style="text-align: right;">109093</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15092</td>
<td style="text-align: right;">237431</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div></div>
<p><font size="6"></font></p><font size="6">
<p>ID: 429, <strong>2931</strong>, 11652, 14927, 15092       ID: 429, <strong>9247</strong>, 11652, 14927, 15092</p>
</font><p><font size="6"></font></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(directors_genres, movies_directors)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:160px; ">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 30px; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">director_id</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">genre</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">prob</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">movie_id</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">429</td>
<td style="text-align: left;">Adventure</td>
<td style="text-align: right;">0.750000</td>
<td style="text-align: right;">300229</td>
</tr>
<tr class="even">
<td style="text-align: right;">429</td>
<td style="text-align: left;">Fantasy</td>
<td style="text-align: right;">0.750000</td>
<td style="text-align: right;">300229</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11652</td>
<td style="text-align: left;">Sci-Fi</td>
<td style="text-align: right;">0.500000</td>
<td style="text-align: right;">10920</td>
</tr>
<tr class="even">
<td style="text-align: right;">11652</td>
<td style="text-align: left;">Sci-Fi</td>
<td style="text-align: right;">0.500000</td>
<td style="text-align: right;">333856</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11652</td>
<td style="text-align: left;">Action</td>
<td style="text-align: right;">0.500000</td>
<td style="text-align: right;">10920</td>
</tr>
<tr class="even">
<td style="text-align: right;">11652</td>
<td style="text-align: left;">Action</td>
<td style="text-align: right;">0.500000</td>
<td style="text-align: right;">333856</td>
</tr>
<tr class="odd">
<td style="text-align: right;">14927</td>
<td style="text-align: left;">Animation</td>
<td style="text-align: right;">1.000000</td>
<td style="text-align: right;">192017</td>
</tr>
<tr class="even">
<td style="text-align: right;">14927</td>
<td style="text-align: left;">Family</td>
<td style="text-align: right;">1.000000</td>
<td style="text-align: right;">192017</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15092</td>
<td style="text-align: left;">Comedy</td>
<td style="text-align: right;">0.545455</td>
<td style="text-align: right;">109093</td>
</tr>
<tr class="even">
<td style="text-align: right;">15092</td>
<td style="text-align: left;">Comedy</td>
<td style="text-align: right;">0.545455</td>
<td style="text-align: right;">237431</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15092</td>
<td style="text-align: left;">Crime</td>
<td style="text-align: right;">0.545455</td>
<td style="text-align: right;">109093</td>
</tr>
<tr class="even">
<td style="text-align: right;">15092</td>
<td style="text-align: left;">Crime</td>
<td style="text-align: right;">0.545455</td>
<td style="text-align: right;">237431</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p><font size="6"></font></p><font size="6">
<p>ID: 429, <del><strong>2931</strong></del>, <del><strong>9247</strong></del>, 11652, 14927, 15092</p>
</font><p><font size="6"></font></p>
</div>
</section>
<section id="inner_join-imdb-example-1" class="slide level2">
<h2><code>inner_join()</code>: IMDb Example</h2>
<p>What if our <strong>key</strong> does not have the same name?</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a aria-hidden="true" tabindex="-1"></a>directors_genres</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:170px; ">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 30px; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">director_id</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">genre</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">prob</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">429</td>
<td style="text-align: left;">Adventure</td>
<td style="text-align: right;">0.750000</td>
</tr>
<tr class="even">
<td style="text-align: right;">429</td>
<td style="text-align: left;">Fantasy</td>
<td style="text-align: right;">0.750000</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2931</td>
<td style="text-align: left;">Drama</td>
<td style="text-align: right;">0.714286</td>
</tr>
<tr class="even">
<td style="text-align: right;">2931</td>
<td style="text-align: left;">Action</td>
<td style="text-align: right;">0.428571</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11652</td>
<td style="text-align: left;">Sci-Fi</td>
<td style="text-align: right;">0.500000</td>
</tr>
<tr class="even">
<td style="text-align: right;">11652</td>
<td style="text-align: left;">Action</td>
<td style="text-align: right;">0.500000</td>
</tr>
<tr class="odd">
<td style="text-align: right;">14927</td>
<td style="text-align: left;">Animation</td>
<td style="text-align: right;">1.000000</td>
</tr>
<tr class="even">
<td style="text-align: right;">14927</td>
<td style="text-align: left;">Family</td>
<td style="text-align: right;">1.000000</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15092</td>
<td style="text-align: left;">Comedy</td>
<td style="text-align: right;">0.545455</td>
</tr>
<tr class="even">
<td style="text-align: right;">15092</td>
<td style="text-align: left;">Crime</td>
<td style="text-align: right;">0.545455</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a aria-hidden="true" tabindex="-1"></a>directors</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:170px; ">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 30px; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">id</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">first_name</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">last_name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">429</td>
<td style="text-align: left;">Andrew</td>
<td style="text-align: left;">Adamson</td>
</tr>
<tr class="even">
<td style="text-align: right;">9247</td>
<td style="text-align: left;">Zach</td>
<td style="text-align: left;">Braff</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11652</td>
<td style="text-align: left;">James (I)</td>
<td style="text-align: left;">Cameron</td>
</tr>
<tr class="even">
<td style="text-align: right;">14927</td>
<td style="text-align: left;">Ron</td>
<td style="text-align: left;">Clements</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15092</td>
<td style="text-align: left;">Ethan</td>
<td style="text-align: left;">Coen</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div></div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb13" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a></a><span class="fu">inner_join</span>(directors_genres, </span>
<span id="cb13-2"><a></a>           directors, </span>
<span id="cb13-3"><a></a>           <span class="at">by =</span> <span class="fu">join_by</span>(director_id <span class="sc">==</span> id))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:170px; ">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 30px; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">id</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">first_name</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">last_name</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">genre</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">prob</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">429</td>
<td style="text-align: left;">Andrew</td>
<td style="text-align: left;">Adamson</td>
<td style="text-align: left;">Adventure</td>
<td style="text-align: right;">0.750000</td>
</tr>
<tr class="even">
<td style="text-align: right;">429</td>
<td style="text-align: left;">Andrew</td>
<td style="text-align: left;">Adamson</td>
<td style="text-align: left;">Fantasy</td>
<td style="text-align: right;">0.750000</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11652</td>
<td style="text-align: left;">James (I)</td>
<td style="text-align: left;">Cameron</td>
<td style="text-align: left;">Sci-Fi</td>
<td style="text-align: right;">0.500000</td>
</tr>
<tr class="even">
<td style="text-align: right;">11652</td>
<td style="text-align: left;">James (I)</td>
<td style="text-align: left;">Cameron</td>
<td style="text-align: left;">Action</td>
<td style="text-align: right;">0.500000</td>
</tr>
<tr class="odd">
<td style="text-align: right;">14927</td>
<td style="text-align: left;">Ron</td>
<td style="text-align: left;">Clements</td>
<td style="text-align: left;">Animation</td>
<td style="text-align: right;">1.000000</td>
</tr>
<tr class="even">
<td style="text-align: right;">14927</td>
<td style="text-align: left;">Ron</td>
<td style="text-align: left;">Clements</td>
<td style="text-align: left;">Family</td>
<td style="text-align: right;">1.000000</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15092</td>
<td style="text-align: left;">Ethan</td>
<td style="text-align: left;">Coen</td>
<td style="text-align: left;">Comedy</td>
<td style="text-align: right;">0.545455</td>
</tr>
<tr class="even">
<td style="text-align: right;">15092</td>
<td style="text-align: left;">Ethan</td>
<td style="text-align: left;">Coen</td>
<td style="text-align: left;">Crime</td>
<td style="text-align: right;">0.545455</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</section>
<section id="piping-joins" class="slide level2">
<h2>Piping Joins</h2>
<p>Remember: the dataset you pipe in becomes the <strong>first argument</strong> of the function you are piping into!</p>
<ul>
<li>So if you are using a pipe, you will only be specifying the <strong>right</strong> dataset inside the <code>join</code> function.</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(directors_genres, movies_directors)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>…is equivalent to…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a aria-hidden="true" tabindex="-1"></a>directors_genres <span class="sc">|&gt;</span> </span>
<span id="cb15-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(movies_directors)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="more-mutating-joins" class="slide level2">
<h2>More Mutating Joins</h2>
<div class="small">
<ul>
<li><p><code>left_join()</code> – keep only (and all) observations present in the left data set</p></li>
<li><p><code>right_join()</code> – keep only (and all) observations present in the right data set</p></li>
<li><p><code>full_join()</code> – keep only (and all) observations present in <strong>both</strong> data sets</p></li>
</ul>
</div>


<img data-src="images/joins.png" style="width:50.0%" alt="Four Venn diagrams illustrating different types of joins between two datasets, labeled 'x' and 'y.' inner_join(x, y): Shows two overlapping circles with only the intersection shaded, representing records that are common to both 'x' and 'y.' left_join(x, y): Shows two overlapping circles with the left circle ('x') fully shaded and the intersection shaded, representing all records from 'x' and the matching records from 'y.' right_join(x, y): Shows two overlapping circles with the right circle ('y') fully shaded and the intersection shaded, representing all records from 'y' and the matching records from 'x.' full_join(x, y): Shows two overlapping circles with both circles fully shaded, representing all records from both 'x' and 'y,' including those without matches." class="r-stretch"></section>
<section id="more-mutating-joins-1" class="slide level2">
<h2>More Mutating Joins</h2>
<p>Which directors would <strong>remain</strong> for each of the following?</p>
<div class="small">
<ul>
<li><code>left_join(directors_genres, movies_directors)</code></li>
<li><code>right_join(directors_genres, movies_directors)</code></li>
<li><code>full_join(directors_genres, movies_directors)</code></li>
</ul>
</div>
<div class="columns">
<div class="column">
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a aria-hidden="true" tabindex="-1"></a>directors_genres <span class="sc">|&gt;</span> </span>
<span id="cb16-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(director_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:320px; ">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 30px; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">director_id</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">429</td>
</tr>
<tr class="even">
<td style="text-align: right;">2931</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11652</td>
</tr>
<tr class="even">
<td style="text-align: right;">14927</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15092</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div><div class="column">
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a aria-hidden="true" tabindex="-1"></a>movies_directors <span class="sc">|&gt;</span> </span>
<span id="cb17-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(director_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:320px; ">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 30px; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">director_id</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">429</td>
</tr>
<tr class="even">
<td style="text-align: right;">9247</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11652</td>
</tr>
<tr class="even">
<td style="text-align: right;">14927</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15092</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div></div>
</section>
<section id="joining-multiple-data-sets" class="slide level2">
<h2>Joining Multiple Data Sets</h2>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1">Data</a></li><li><a href="#tabset-3-2">Sketch</a></li><li><a href="#tabset-3-3">1st + 2nd</a></li><li><a href="#tabset-3-4">+ 3rd</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<div class="columns">
<div class="column" style="width:50%;">
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a></a>directors[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
     id first_name last_name
  &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;    
1   429 Andrew     Adamson  
2  2931 Darren     Aronofsky
3  9247 Zach       Braff    
4 11652 James (I)  Cameron  </code></pre>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a></a>movies_directors[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  director_id movie_id
        &lt;dbl&gt;    &lt;dbl&gt;
1         429   300229
2        2931   254943
3        9247   124110
4       11652    10920</code></pre>
</div>
</div>
</div>
</div></div>
<div class="columns">
<div class="column" style="width:25%;">

</div><div class="column" style="width:50%;">
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a></a>movies[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
     id name           year  rank
  &lt;dbl&gt; &lt;chr&gt;         &lt;dbl&gt; &lt;dbl&gt;
1 10920 Aliens         1986  8.20
2 17173 Animal House   1978  7.5 
3 18979 Apollo 13      1995  7.5 
4 30959 Batman Begins  2005 NA   </code></pre>
</div>
</div>
</div>
</div></div>
</div>
<div id="tabset-3-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/multiple_joins.png" class="quarto-figure quarto-figure-center" style="width:90.0%" alt="The image illustrates a relational database schema involving three tables: movies_directors, directors, and movies. The movies_directors table has two columns: director_id (int) and movie_id (int). The directors table contains id (int), first_name (char), and last_name (char), while the movies table includes id (int), name (char), year (int), and rank (float). A caution is noted, highlighting that there are two columns named id, but they store different types of information. The goal is to keep only observations that appear in all three datasets, which requires using two calls to the inner_join() function. There's also a suggestion to rename the column name in the final dataset, which would contain columns like director_id, movie_id, first_name, last_name, name, year, and rank."></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-3-3">
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a aria-hidden="true" tabindex="-1"></a>movies_directors <span class="sc">|&gt;</span> </span>
<span id="cb24-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(directors, </span>
<span id="cb24-3"><a aria-hidden="true" tabindex="-1"></a>             <span class="at">by =</span> <span class="fu">join_by</span>(director_id <span class="sc">==</span> id)</span>
<span id="cb24-4"><a aria-hidden="true" tabindex="-1"></a>             )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; ">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 25px; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">director_id</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">movie_id</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">first_name</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">last_name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">429</td>
<td style="text-align: right;">300229</td>
<td style="text-align: left;">Andrew</td>
<td style="text-align: left;">Adamson</td>
</tr>
<tr class="even">
<td style="text-align: right;">2931</td>
<td style="text-align: right;">254943</td>
<td style="text-align: left;">Darren</td>
<td style="text-align: left;">Aronofsky</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9247</td>
<td style="text-align: right;">124110</td>
<td style="text-align: left;">Zach</td>
<td style="text-align: left;">Braff</td>
</tr>
<tr class="even">
<td style="text-align: right;">11652</td>
<td style="text-align: right;">10920</td>
<td style="text-align: left;">James (I)</td>
<td style="text-align: left;">Cameron</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11652</td>
<td style="text-align: right;">333856</td>
<td style="text-align: left;">James (I)</td>
<td style="text-align: left;">Cameron</td>
</tr>
<tr class="even">
<td style="text-align: right;">14927</td>
<td style="text-align: right;">192017</td>
<td style="text-align: left;">Ron</td>
<td style="text-align: left;">Clements</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15092</td>
<td style="text-align: right;">109093</td>
<td style="text-align: left;">Ethan</td>
<td style="text-align: left;">Coen</td>
</tr>
<tr class="even">
<td style="text-align: right;">15092</td>
<td style="text-align: right;">237431</td>
<td style="text-align: left;">Ethan</td>
<td style="text-align: left;">Coen</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15093</td>
<td style="text-align: right;">109093</td>
<td style="text-align: left;">Joel</td>
<td style="text-align: left;">Coen</td>
</tr>
<tr class="even">
<td style="text-align: right;">15093</td>
<td style="text-align: right;">237431</td>
<td style="text-align: left;">Joel</td>
<td style="text-align: left;">Coen</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15901</td>
<td style="text-align: right;">130128</td>
<td style="text-align: left;">Francis Ford</td>
<td style="text-align: left;">Coppola</td>
</tr>
<tr class="even">
<td style="text-align: right;">15906</td>
<td style="text-align: right;">194874</td>
<td style="text-align: left;">Sofia</td>
<td style="text-align: left;">Coppola</td>
</tr>
<tr class="odd">
<td style="text-align: right;">16816</td>
<td style="text-align: right;">350424</td>
<td style="text-align: left;">Cameron</td>
<td style="text-align: left;">Crowe</td>
</tr>
<tr class="even">
<td style="text-align: right;">17810</td>
<td style="text-align: right;">297838</td>
<td style="text-align: left;">Frank</td>
<td style="text-align: left;">Darabont</td>
</tr>
<tr class="odd">
<td style="text-align: right;">22104</td>
<td style="text-align: right;">224842</td>
<td style="text-align: left;">Clint</td>
<td style="text-align: left;">Eastwood</td>
</tr>
<tr class="even">
<td style="text-align: right;">24758</td>
<td style="text-align: right;">112290</td>
<td style="text-align: left;">David</td>
<td style="text-align: left;">Fincher</td>
</tr>
<tr class="odd">
<td style="text-align: right;">28395</td>
<td style="text-align: right;">46169</td>
<td style="text-align: left;">Mel (I)</td>
<td style="text-align: left;">Gibson</td>
</tr>
<tr class="even">
<td style="text-align: right;">35573</td>
<td style="text-align: right;">18979</td>
<td style="text-align: left;">Ron</td>
<td style="text-align: left;">Howard</td>
</tr>
<tr class="odd">
<td style="text-align: right;">35838</td>
<td style="text-align: right;">257264</td>
<td style="text-align: left;">John (I)</td>
<td style="text-align: left;">Hughes</td>
</tr>
<tr class="even">
<td style="text-align: right;">37872</td>
<td style="text-align: right;">300229</td>
<td style="text-align: left;">Vicky</td>
<td style="text-align: left;">Jenson</td>
</tr>
<tr class="odd">
<td style="text-align: right;">38746</td>
<td style="text-align: right;">238695</td>
<td style="text-align: left;">Mike (I)</td>
<td style="text-align: left;">Judge</td>
</tr>
<tr class="even">
<td style="text-align: right;">41975</td>
<td style="text-align: right;">314965</td>
<td style="text-align: left;">David</td>
<td style="text-align: left;">Koepp</td>
</tr>
<tr class="odd">
<td style="text-align: right;">44291</td>
<td style="text-align: right;">17173</td>
<td style="text-align: left;">John (I)</td>
<td style="text-align: left;">Landis</td>
</tr>
<tr class="even">
<td style="text-align: right;">46315</td>
<td style="text-align: right;">344203</td>
<td style="text-align: left;">Jay</td>
<td style="text-align: left;">Levey</td>
</tr>
<tr class="odd">
<td style="text-align: right;">48115</td>
<td style="text-align: right;">313459</td>
<td style="text-align: left;">George</td>
<td style="text-align: left;">Lucas</td>
</tr>
<tr class="even">
<td style="text-align: right;">56332</td>
<td style="text-align: right;">192017</td>
<td style="text-align: left;">John</td>
<td style="text-align: left;">Musker</td>
</tr>
<tr class="odd">
<td style="text-align: right;">58201</td>
<td style="text-align: right;">30959</td>
<td style="text-align: left;">Christopher</td>
<td style="text-align: left;">Nolan</td>
</tr>
<tr class="even">
<td style="text-align: right;">58201</td>
<td style="text-align: right;">210511</td>
<td style="text-align: left;">Christopher</td>
<td style="text-align: left;">Nolan</td>
</tr>
<tr class="odd">
<td style="text-align: right;">65940</td>
<td style="text-align: right;">111813</td>
<td style="text-align: left;">Rob</td>
<td style="text-align: left;">Reiner</td>
</tr>
<tr class="even">
<td style="text-align: right;">66849</td>
<td style="text-align: right;">306032</td>
<td style="text-align: left;">Guy</td>
<td style="text-align: left;">Ritchie</td>
</tr>
<tr class="odd">
<td style="text-align: right;">68161</td>
<td style="text-align: right;">116907</td>
<td style="text-align: left;">Herbert (I)</td>
<td style="text-align: left;">Ross</td>
</tr>
<tr class="even">
<td style="text-align: right;">74758</td>
<td style="text-align: right;">238072</td>
<td style="text-align: left;">Steven</td>
<td style="text-align: left;">Soderbergh</td>
</tr>
<tr class="odd">
<td style="text-align: right;">76524</td>
<td style="text-align: right;">167324</td>
<td style="text-align: left;">Oliver (I)</td>
<td style="text-align: left;">Stone</td>
</tr>
<tr class="even">
<td style="text-align: right;">78273</td>
<td style="text-align: right;">176711</td>
<td style="text-align: left;">Quentin</td>
<td style="text-align: left;">Tarantino</td>
</tr>
<tr class="odd">
<td style="text-align: right;">78273</td>
<td style="text-align: right;">176712</td>
<td style="text-align: left;">Quentin</td>
<td style="text-align: left;">Tarantino</td>
</tr>
<tr class="even">
<td style="text-align: right;">78273</td>
<td style="text-align: right;">267038</td>
<td style="text-align: left;">Quentin</td>
<td style="text-align: left;">Tarantino</td>
</tr>
<tr class="odd">
<td style="text-align: right;">78273</td>
<td style="text-align: right;">276217</td>
<td style="text-align: left;">Quentin</td>
<td style="text-align: left;">Tarantino</td>
</tr>
<tr class="even">
<td style="text-align: right;">82525</td>
<td style="text-align: right;">147603</td>
<td style="text-align: left;">Paul (I)</td>
<td style="text-align: left;">Verhoeven</td>
</tr>
<tr class="odd">
<td style="text-align: right;">83616</td>
<td style="text-align: right;">207992</td>
<td style="text-align: left;">Andy</td>
<td style="text-align: left;">Wachowski</td>
</tr>
<tr class="even">
<td style="text-align: right;">83617</td>
<td style="text-align: right;">207992</td>
<td style="text-align: left;">Larry</td>
<td style="text-align: left;">Wachowski</td>
</tr>
<tr class="odd">
<td style="text-align: right;">88802</td>
<td style="text-align: right;">256630</td>
<td style="text-align: left;">Unknown</td>
<td style="text-align: left;">Director</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="tabset-3-4">
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a aria-hidden="true" tabindex="-1"></a>movies_directors <span class="sc">|&gt;</span> </span>
<span id="cb25-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(directors, </span>
<span id="cb25-3"><a aria-hidden="true" tabindex="-1"></a>             <span class="at">by =</span> <span class="fu">join_by</span>(director_id <span class="sc">==</span> id)</span>
<span id="cb25-4"><a aria-hidden="true" tabindex="-1"></a>             ) <span class="sc">|&gt;</span> </span>
<span id="cb25-5"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(movies,</span>
<span id="cb25-6"><a aria-hidden="true" tabindex="-1"></a>             <span class="at">by =</span> <span class="fu">join_by</span>(movie_id <span class="sc">==</span> id)</span>
<span id="cb25-7"><a aria-hidden="true" tabindex="-1"></a>             ) <span class="sc">|&gt;</span> </span>
<span id="cb25-8"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">movie_name =</span> name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; ">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 25px; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">director_id</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">movie_id</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">first_name</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">last_name</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">movie_name</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">year</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">rank</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">429</td>
<td style="text-align: right;">300229</td>
<td style="text-align: left;">Andrew</td>
<td style="text-align: left;">Adamson</td>
<td style="text-align: left;">Shrek</td>
<td style="text-align: right;">2001</td>
<td style="text-align: right;">8.1</td>
</tr>
<tr class="even">
<td style="text-align: right;">2931</td>
<td style="text-align: right;">254943</td>
<td style="text-align: left;">Darren</td>
<td style="text-align: left;">Aronofsky</td>
<td style="text-align: left;">Pi</td>
<td style="text-align: right;">1998</td>
<td style="text-align: right;">7.5</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9247</td>
<td style="text-align: right;">124110</td>
<td style="text-align: left;">Zach</td>
<td style="text-align: left;">Braff</td>
<td style="text-align: left;">Garden State</td>
<td style="text-align: right;">2004</td>
<td style="text-align: right;">8.3</td>
</tr>
<tr class="even">
<td style="text-align: right;">11652</td>
<td style="text-align: right;">10920</td>
<td style="text-align: left;">James (I)</td>
<td style="text-align: left;">Cameron</td>
<td style="text-align: left;">Aliens</td>
<td style="text-align: right;">1986</td>
<td style="text-align: right;">8.2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11652</td>
<td style="text-align: right;">333856</td>
<td style="text-align: left;">James (I)</td>
<td style="text-align: left;">Cameron</td>
<td style="text-align: left;">Titanic</td>
<td style="text-align: right;">1997</td>
<td style="text-align: right;">6.9</td>
</tr>
<tr class="even">
<td style="text-align: right;">14927</td>
<td style="text-align: right;">192017</td>
<td style="text-align: left;">Ron</td>
<td style="text-align: left;">Clements</td>
<td style="text-align: left;">Little Mermaid, The</td>
<td style="text-align: right;">1989</td>
<td style="text-align: right;">7.3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15092</td>
<td style="text-align: right;">109093</td>
<td style="text-align: left;">Ethan</td>
<td style="text-align: left;">Coen</td>
<td style="text-align: left;">Fargo</td>
<td style="text-align: right;">1996</td>
<td style="text-align: right;">8.2</td>
</tr>
<tr class="even">
<td style="text-align: right;">15092</td>
<td style="text-align: right;">237431</td>
<td style="text-align: left;">Ethan</td>
<td style="text-align: left;">Coen</td>
<td style="text-align: left;">O Brother, Where Art Thou?</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">7.8</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15093</td>
<td style="text-align: right;">109093</td>
<td style="text-align: left;">Joel</td>
<td style="text-align: left;">Coen</td>
<td style="text-align: left;">Fargo</td>
<td style="text-align: right;">1996</td>
<td style="text-align: right;">8.2</td>
</tr>
<tr class="even">
<td style="text-align: right;">15093</td>
<td style="text-align: right;">237431</td>
<td style="text-align: left;">Joel</td>
<td style="text-align: left;">Coen</td>
<td style="text-align: left;">O Brother, Where Art Thou?</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">7.8</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15901</td>
<td style="text-align: right;">130128</td>
<td style="text-align: left;">Francis Ford</td>
<td style="text-align: left;">Coppola</td>
<td style="text-align: left;">Godfather, The</td>
<td style="text-align: right;">1972</td>
<td style="text-align: right;">9.0</td>
</tr>
<tr class="even">
<td style="text-align: right;">15906</td>
<td style="text-align: right;">194874</td>
<td style="text-align: left;">Sofia</td>
<td style="text-align: left;">Coppola</td>
<td style="text-align: left;">Lost in Translation</td>
<td style="text-align: right;">2003</td>
<td style="text-align: right;">8.0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">16816</td>
<td style="text-align: right;">350424</td>
<td style="text-align: left;">Cameron</td>
<td style="text-align: left;">Crowe</td>
<td style="text-align: left;">Vanilla Sky</td>
<td style="text-align: right;">2001</td>
<td style="text-align: right;">6.9</td>
</tr>
<tr class="even">
<td style="text-align: right;">17810</td>
<td style="text-align: right;">297838</td>
<td style="text-align: left;">Frank</td>
<td style="text-align: left;">Darabont</td>
<td style="text-align: left;">Shawshank Redemption, The</td>
<td style="text-align: right;">1994</td>
<td style="text-align: right;">9.0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">22104</td>
<td style="text-align: right;">224842</td>
<td style="text-align: left;">Clint</td>
<td style="text-align: left;">Eastwood</td>
<td style="text-align: left;">Mystic River</td>
<td style="text-align: right;">2003</td>
<td style="text-align: right;">8.1</td>
</tr>
<tr class="even">
<td style="text-align: right;">24758</td>
<td style="text-align: right;">112290</td>
<td style="text-align: left;">David</td>
<td style="text-align: left;">Fincher</td>
<td style="text-align: left;">Fight Club</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8.5</td>
</tr>
<tr class="odd">
<td style="text-align: right;">28395</td>
<td style="text-align: right;">46169</td>
<td style="text-align: left;">Mel (I)</td>
<td style="text-align: left;">Gibson</td>
<td style="text-align: left;">Braveheart</td>
<td style="text-align: right;">1995</td>
<td style="text-align: right;">8.3</td>
</tr>
<tr class="even">
<td style="text-align: right;">35573</td>
<td style="text-align: right;">18979</td>
<td style="text-align: left;">Ron</td>
<td style="text-align: left;">Howard</td>
<td style="text-align: left;">Apollo 13</td>
<td style="text-align: right;">1995</td>
<td style="text-align: right;">7.5</td>
</tr>
<tr class="odd">
<td style="text-align: right;">35838</td>
<td style="text-align: right;">257264</td>
<td style="text-align: left;">John (I)</td>
<td style="text-align: left;">Hughes</td>
<td style="text-align: left;">Planes, Trains &amp; Automobiles</td>
<td style="text-align: right;">1987</td>
<td style="text-align: right;">7.2</td>
</tr>
<tr class="even">
<td style="text-align: right;">37872</td>
<td style="text-align: right;">300229</td>
<td style="text-align: left;">Vicky</td>
<td style="text-align: left;">Jenson</td>
<td style="text-align: left;">Shrek</td>
<td style="text-align: right;">2001</td>
<td style="text-align: right;">8.1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">38746</td>
<td style="text-align: right;">238695</td>
<td style="text-align: left;">Mike (I)</td>
<td style="text-align: left;">Judge</td>
<td style="text-align: left;">Office Space</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">7.6</td>
</tr>
<tr class="even">
<td style="text-align: right;">41975</td>
<td style="text-align: right;">314965</td>
<td style="text-align: left;">David</td>
<td style="text-align: left;">Koepp</td>
<td style="text-align: left;">Stir of Echoes</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">7.0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">44291</td>
<td style="text-align: right;">17173</td>
<td style="text-align: left;">John (I)</td>
<td style="text-align: left;">Landis</td>
<td style="text-align: left;">Animal House</td>
<td style="text-align: right;">1978</td>
<td style="text-align: right;">7.5</td>
</tr>
<tr class="even">
<td style="text-align: right;">46315</td>
<td style="text-align: right;">344203</td>
<td style="text-align: left;">Jay</td>
<td style="text-align: left;">Levey</td>
<td style="text-align: left;">UHF</td>
<td style="text-align: right;">1989</td>
<td style="text-align: right;">6.6</td>
</tr>
<tr class="odd">
<td style="text-align: right;">48115</td>
<td style="text-align: right;">313459</td>
<td style="text-align: left;">George</td>
<td style="text-align: left;">Lucas</td>
<td style="text-align: left;">Star Wars</td>
<td style="text-align: right;">1977</td>
<td style="text-align: right;">8.8</td>
</tr>
<tr class="even">
<td style="text-align: right;">56332</td>
<td style="text-align: right;">192017</td>
<td style="text-align: left;">John</td>
<td style="text-align: left;">Musker</td>
<td style="text-align: left;">Little Mermaid, The</td>
<td style="text-align: right;">1989</td>
<td style="text-align: right;">7.3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">58201</td>
<td style="text-align: right;">30959</td>
<td style="text-align: left;">Christopher</td>
<td style="text-align: left;">Nolan</td>
<td style="text-align: left;">Batman Begins</td>
<td style="text-align: right;">2005</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: right;">58201</td>
<td style="text-align: right;">210511</td>
<td style="text-align: left;">Christopher</td>
<td style="text-align: left;">Nolan</td>
<td style="text-align: left;">Memento</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">8.7</td>
</tr>
<tr class="odd">
<td style="text-align: right;">65940</td>
<td style="text-align: right;">111813</td>
<td style="text-align: left;">Rob</td>
<td style="text-align: left;">Reiner</td>
<td style="text-align: left;">Few Good Men, A</td>
<td style="text-align: right;">1992</td>
<td style="text-align: right;">7.5</td>
</tr>
<tr class="even">
<td style="text-align: right;">66849</td>
<td style="text-align: right;">306032</td>
<td style="text-align: left;">Guy</td>
<td style="text-align: left;">Ritchie</td>
<td style="text-align: left;">Snatch.</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">7.9</td>
</tr>
<tr class="odd">
<td style="text-align: right;">68161</td>
<td style="text-align: right;">116907</td>
<td style="text-align: left;">Herbert (I)</td>
<td style="text-align: left;">Ross</td>
<td style="text-align: left;">Footloose</td>
<td style="text-align: right;">1984</td>
<td style="text-align: right;">5.8</td>
</tr>
<tr class="even">
<td style="text-align: right;">74758</td>
<td style="text-align: right;">238072</td>
<td style="text-align: left;">Steven</td>
<td style="text-align: left;">Soderbergh</td>
<td style="text-align: left;">Ocean's Eleven</td>
<td style="text-align: right;">2001</td>
<td style="text-align: right;">7.5</td>
</tr>
<tr class="odd">
<td style="text-align: right;">76524</td>
<td style="text-align: right;">167324</td>
<td style="text-align: left;">Oliver (I)</td>
<td style="text-align: left;">Stone</td>
<td style="text-align: left;">JFK</td>
<td style="text-align: right;">1991</td>
<td style="text-align: right;">7.8</td>
</tr>
<tr class="even">
<td style="text-align: right;">78273</td>
<td style="text-align: right;">176711</td>
<td style="text-align: left;">Quentin</td>
<td style="text-align: left;">Tarantino</td>
<td style="text-align: left;">Kill Bill: Vol. 1</td>
<td style="text-align: right;">2003</td>
<td style="text-align: right;">8.4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">78273</td>
<td style="text-align: right;">176712</td>
<td style="text-align: left;">Quentin</td>
<td style="text-align: left;">Tarantino</td>
<td style="text-align: left;">Kill Bill: Vol. 2</td>
<td style="text-align: right;">2004</td>
<td style="text-align: right;">8.2</td>
</tr>
<tr class="even">
<td style="text-align: right;">78273</td>
<td style="text-align: right;">267038</td>
<td style="text-align: left;">Quentin</td>
<td style="text-align: left;">Tarantino</td>
<td style="text-align: left;">Pulp Fiction</td>
<td style="text-align: right;">1994</td>
<td style="text-align: right;">8.7</td>
</tr>
<tr class="odd">
<td style="text-align: right;">78273</td>
<td style="text-align: right;">276217</td>
<td style="text-align: left;">Quentin</td>
<td style="text-align: left;">Tarantino</td>
<td style="text-align: left;">Reservoir Dogs</td>
<td style="text-align: right;">1992</td>
<td style="text-align: right;">8.3</td>
</tr>
<tr class="even">
<td style="text-align: right;">82525</td>
<td style="text-align: right;">147603</td>
<td style="text-align: left;">Paul (I)</td>
<td style="text-align: left;">Verhoeven</td>
<td style="text-align: left;">Hollow Man</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">5.3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">83616</td>
<td style="text-align: right;">207992</td>
<td style="text-align: left;">Andy</td>
<td style="text-align: left;">Wachowski</td>
<td style="text-align: left;">Matrix, The</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8.5</td>
</tr>
<tr class="even">
<td style="text-align: right;">83617</td>
<td style="text-align: right;">207992</td>
<td style="text-align: left;">Larry</td>
<td style="text-align: left;">Wachowski</td>
<td style="text-align: left;">Matrix, The</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8.5</td>
</tr>
<tr class="odd">
<td style="text-align: right;">88802</td>
<td style="text-align: right;">256630</td>
<td style="text-align: left;">Unknown</td>
<td style="text-align: left;">Director</td>
<td style="text-align: left;">Pirates of the Caribbean</td>
<td style="text-align: right;">2003</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="joining-on-multiple-variables" class="slide level2">
<h2>Joining on Multiple Variables</h2>
<p>Consider the <code>rodent</code> data from Lab 2.</p>
<ul>
<li>We want to add <code>species_id</code> to the rodent measurements.</li>
</ul>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-4-1">Species</a></li><li><a href="#tabset-4-2">Measurements</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a aria-hidden="true" tabindex="-1"></a>species</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; ">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 25px; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">genus</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">species</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">taxa</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">species_id</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">ordii</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DO</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PF</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chaetodipus</td>
<td style="text-align: left;">penicillatus</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PP</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Peromyscus</td>
<td style="text-align: left;">eremicus</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Onychomys</td>
<td style="text-align: left;">leucogaster</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">OL</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Reithrodontomys</td>
<td style="text-align: left;">megalotis</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">RM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">spectabilis</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DS</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Onychomys</td>
<td style="text-align: left;">torridus</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">OT</td>
</tr>
<tr class="even">
<td style="text-align: left;">Neotoma</td>
<td style="text-align: left;">albigula</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">NL</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Peromyscus</td>
<td style="text-align: left;">maniculatus</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sigmodon</td>
<td style="text-align: left;">hispidus</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">SH</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Reithrodontomys</td>
<td style="text-align: left;">fulvescens</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">RF</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chaetodipus</td>
<td style="text-align: left;">baileyi</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PB</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="tabset-4-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a aria-hidden="true" tabindex="-1"></a>measurements</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; ">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 25px; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">genus_name</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">species</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">sex</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">hindfoot_length</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">weight</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">40</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">48</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">29</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">46</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">36</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">ordii</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">52</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">35</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">22</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">42</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">41</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">37</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">43</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">41</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">40</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">45</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Chaetodipus</td>
<td style="text-align: left;">penicillatus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">15</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">29</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">39</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">43</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">46</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">41</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">41</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">40</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">45</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">46</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">40</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">30</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">39</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">34</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">42</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">42</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">31</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">40</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">37</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">48</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">42</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">45</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chaetodipus</td>
<td style="text-align: left;">penicillatus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">16</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">36</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">42</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">44</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">41</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">40</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">34</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">40</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">44</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">44</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">36</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">33</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">46</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">35</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">46</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">37</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">34</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">45</td>
</tr>
<tr class="even">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">51</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">39</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">29</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">48</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">46</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">41</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">45</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">42</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">53</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">49</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">46</td>
</tr>
<tr class="even">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Chaetodipus</td>
<td style="text-align: left;">penicillatus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">15</td>
</tr>
<tr class="even">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">48</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">51</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">50</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">44</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">44</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">45</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">45</td>
</tr>
<tr class="even">
<td style="text-align: left;">Peromyscus</td>
<td style="text-align: left;">eremicus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">19</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">44</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">42</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">39</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">47</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">42</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">49</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">39</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">43</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">50</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">41</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">47</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">37</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">41</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">36</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">45</td>
</tr>
<tr class="even">
<td style="text-align: left;">Peromyscus</td>
<td style="text-align: left;">eremicus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">20</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="join-by-species-genus" class="slide level2">
<h2>Join by <code>species</code> + <code>genus</code></h2>
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a aria-hidden="true" tabindex="-1"></a>measurements <span class="sc">|&gt;</span> </span>
<span id="cb28-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(species,</span>
<span id="cb28-3"><a aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">join_by</span>(species <span class="sc">==</span> species, </span>
<span id="cb28-4"><a aria-hidden="true" tabindex="-1"></a>                         genus_name <span class="sc">==</span> genus)</span>
<span id="cb28-5"><a aria-hidden="true" tabindex="-1"></a>            )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; ">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 25px; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">genus_name</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">species</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">sex</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">hindfoot_length</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">weight</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">taxa</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">species_id</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">48</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">46</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">36</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">ordii</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">52</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DO</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PF</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">35</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">7</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PF</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">22</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">9</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PF</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">42</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PF</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">41</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">37</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">43</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">41</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">9</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PF</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">45</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Chaetodipus</td>
<td style="text-align: left;">penicillatus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PP</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">39</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">43</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">46</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">41</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">41</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">45</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">46</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">30</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">39</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">34</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">42</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">42</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PF</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">31</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">37</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">48</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">42</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">45</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chaetodipus</td>
<td style="text-align: left;">penicillatus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">16</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PP</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">36</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">42</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">44</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">41</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">34</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">44</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">44</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">36</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">33</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">46</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">35</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">46</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">37</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">34</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">45</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">7</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PF</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">51</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">39</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">48</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">46</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">41</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">45</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">42</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">49</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">46</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">9</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PF</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Chaetodipus</td>
<td style="text-align: left;">penicillatus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PP</td>
</tr>
<tr class="even">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PF</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">48</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">51</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">50</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">44</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">44</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">45</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">45</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Peromyscus</td>
<td style="text-align: left;">eremicus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">44</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">42</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">39</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">47</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">42</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">49</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">39</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">43</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">50</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">41</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">47</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">37</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">41</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">36</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">45</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Peromyscus</td>
<td style="text-align: left;">eremicus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PE</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="fragment">
<p><br></p>
<div class="small">
<p><strong>What if a species was included in the <code>species</code> dataset, but not in the <code>measurement</code> dataset?</strong></p>
</div>
</div>
</section></section>
<section>
<section id="factor-variables" class="title-slide slide level1 center">
<h1>Factor Variables</h1>

</section>
<section id="what-is-a-factor-variable" class="slide level2">
<h2>What is a factor variable?</h2>
<p><br></p>
<p>In general, factors are used for:</p>
<ol type="1">
<li>categorical variables with a fixed and known set of possible values.</li>
</ol>
<ul>
<li>E.g., <code>day_born</code> = Sunday, Monday, Tuesday, …, Saturday</li>
</ul>
<ol start="2" type="1">
<li>displaying character vectors in non-alphabetical order.</li>
</ol>
</section>
<section id="eras-tour" class="slide level2">
<h2>Eras Tour</h2>
<p>Let’s consider songs that Taylor Swift played on her Eras Tour. I have randomly selected 25 songs (and their albums) to consider.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a aria-hidden="true" tabindex="-1"></a>eras_data </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 25 × 2
   Song               Album     
   &lt;chr&gt;              &lt;chr&gt;     
 1 22                 Red       
 2 ...Ready for It?   Reputation
 3 The Archer         Lover     
 4 Bejeweled          Midnights 
 5 Style              1989      
 6 You Belong With Me Fearless  
 7 Don't Blame Me     Reputation
 8 illicit affairs    Folklore  
 9 Lavender Haze      Midnights 
10 marjorie           Evermore  
# ℹ 15 more rows</code></pre>
</div>
</div>
</section>
<section id="creating-a-factor-base-r" class="slide level2">
<h2>Creating a Factor – Base <code>R</code></h2>
<div class="panel-tabset">
<ul id="tabset-5" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-5-1">A <strong>character</strong> vector:</a></li><li><a href="#tabset-5-2">A <strong>factor</strong> vector:</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1">
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a aria-hidden="true" tabindex="-1"></a>eras_data <span class="sc">|&gt;</span> </span>
<span id="cb31-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Album)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Red"        "Reputation" "Lover"      "Midnights"  "1989"      
 [6] "Fearless"   "Reputation" "Folklore"   "Midnights"  "Evermore"  
[11] "Evermore"   "Lover"      "Lover"      "Red"        "Reputation"
[16] "Reputation" "Speak Now"  "Red"        "Midnights"  "Fearless"  
[21] "1989"       "Midnights"  "Fearless"   "Folklore"   "Lover"     </code></pre>
</div>
</div>
</div>
</div>
<div id="tabset-5-2">
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a aria-hidden="true" tabindex="-1"></a>eras_data <span class="sc">|&gt;</span> </span>
<span id="cb33-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Album) <span class="sc">|&gt;</span> </span>
<span id="cb33-3"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.factor</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] Red        Reputation Lover      Midnights  1989       Fearless  
 [7] Reputation Folklore   Midnights  Evermore   Evermore   Lover     
[13] Lover      Red        Reputation Reputation Speak Now  Red       
[19] Midnights  Fearless   1989       Midnights  Fearless   Folklore  
[25] Lover     
9 Levels: 1989 Evermore Fearless Folklore Lover Midnights Red ... Speak Now</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="creating-a-factor-base-r-1" class="slide level2">
<h2>Creating a Factor – Base <code>R</code></h2>
<p>When you create a factor variable from a vector…</p>
<ul>
<li>Every unique element in the vector becomes a <strong>level</strong>.</li>
<li>The levels are ordered alphabetically.</li>
<li>The elements are no longer displayed in quotes.</li>
</ul>
</section>
<section id="creating-a-factor-base-r-2" class="slide level2">
<h2>Creating a Factor – Base <code>R</code></h2>
<p>You can <strong>specify the order of the levels</strong> with the <code>levels</code> argument.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a aria-hidden="true" tabindex="-1"></a>eras_data <span class="sc">|&gt;</span> </span>
<span id="cb35-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Album) <span class="sc">|&gt;</span> </span>
<span id="cb35-3"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">factor</span>(<span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Fearless"</span>,</span>
<span id="cb35-4"><a aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Speak Now"</span>,</span>
<span id="cb35-5"><a aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Red"</span>,</span>
<span id="cb35-6"><a aria-hidden="true" tabindex="-1"></a>                    <span class="st">"1989"</span>,</span>
<span id="cb35-7"><a aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Reputation"</span>,</span>
<span id="cb35-8"><a aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Lover"</span>,</span>
<span id="cb35-9"><a aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Folklore"</span>,</span>
<span id="cb35-10"><a aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Evermore"</span>,</span>
<span id="cb35-11"><a aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Midnights"</span>)</span>
<span id="cb35-12"><a aria-hidden="true" tabindex="-1"></a>         )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="forcats" class="slide level2">
<h2><code>forcats</code></h2>
<div class="columns">
<div class="column" style="width:80%;">
<div class="small">
<p>We use this package to…</p>
<ul>
<li><p>turn character variables into factors.</p></li>
<li><p>make factors by discretizing numeric variables.</p></li>
<li><p>rename or reorder the levels of an existing factor.</p></li>
</ul>
</div>
</div><div class="column" style="width:20%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://github.com/rstudio/hex-stickers/blob/main/thumbs/forcats.png?raw=true" class="quarto-figure quarto-figure-center" alt="The image shows a hexagonal logo with a brown border featuring a group of black cats resting inside a cardboard box. The cats appear relaxed, laying on top of one another, with their eyes closed or half-open. The word forcats is written on the side of the box in a light brown color. This image represents the logo of the R package forcats, which is typically used for handling categorical variables (factors) in data analysis within the R programming environment."></p>
</figure>
</div>
</div>
</div>
</div></div>
<div class="small">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><code>forcats</code> loads with <code>tidyverse</code>!</strong></p>
</div>
<div class="callout-content">
<p>The packages <code>forcats</code> (“for categoricals”) helps wrangle categorical variables.</p>
</div>
</div>
</div>
</div>
</section>
<section id="creating-a-factor-fct" class="slide level2">
<h2>Creating a Factor – <code>fct</code></h2>
<p>With <code>fct()</code>, the levels are automatically ordered in the <strong>order of first appearance</strong>.</p>
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a aria-hidden="true" tabindex="-1"></a>eras_data <span class="sc">|&gt;</span> </span>
<span id="cb36-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Album) <span class="sc">|&gt;</span> </span>
<span id="cb36-3"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">fct</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] Red        Reputation Lover      Midnights  1989       Fearless  
 [7] Reputation Folklore   Midnights  Evermore   Evermore   Lover     
[13] Lover      Red        Reputation Reputation Speak Now  Red       
[19] Midnights  Fearless   1989       Midnights  Fearless   Folklore  
[25] Lover     
9 Levels: Red Reputation Lover Midnights 1989 Fearless Folklore ... Speak Now</code></pre>
</div>
</div>
</div>
</section>
<section id="creating-a-factor" class="slide level2">
<h2>Creating a Factor</h2>
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a aria-hidden="true" tabindex="-1"></a>eras_data <span class="ot">&lt;-</span> eras_data <span class="sc">|&gt;</span> </span>
<span id="cb38-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Album =</span> <span class="fu">fct</span>(Album))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="small">
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>To change a column type to factor, you must wrap <code>fct()</code> in a <code>mutate()</code> call.</strong></p>
</div>
<div class="callout-content">

</div>
</div>
</div>
</div>
<div class="fragment">
<p><br></p>
<div class="small">
<p>I am using <code>pull()</code> to display the outcome:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a aria-hidden="true" tabindex="-1"></a>eras_data <span class="sc">|&gt;</span> </span>
<span id="cb39-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Album) <span class="sc">|&gt;</span> </span>
<span id="cb39-3"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">fct</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] Red        Reputation Lover      Midnights  1989       Fearless  
 [7] Reputation Folklore   Midnights  Evermore   Evermore   Lover     
[13] Lover      Red        Reputation Reputation Speak Now  Red       
[19] Midnights  Fearless   1989       Midnights  Fearless   Folklore  
[25] Lover     
9 Levels: Red Reputation Lover Midnights 1989 Fearless Folklore ... Speak Now</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="creating-a-factor-fct-1" class="slide level2">
<h2>Creating a Factor – <code>fct</code></h2>
<p>You can still <strong>specify the order of the levels</strong> with <code>level</code>.</p>
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a aria-hidden="true" tabindex="-1"></a>eras_data <span class="sc">|&gt;</span> </span>
<span id="cb41-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Album) <span class="sc">|&gt;</span> </span>
<span id="cb41-3"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">fct</span>(<span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Fearless"</span>,</span>
<span id="cb41-4"><a aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Speak Now"</span>,</span>
<span id="cb41-5"><a aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Red"</span>,</span>
<span id="cb41-6"><a aria-hidden="true" tabindex="-1"></a>                 <span class="st">"1989"</span>,</span>
<span id="cb41-7"><a aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Reputation"</span>,</span>
<span id="cb41-8"><a aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Lover"</span>,</span>
<span id="cb41-9"><a aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Folklore"</span>,</span>
<span id="cb41-10"><a aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Evermore"</span>,</span>
<span id="cb41-11"><a aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Midnights"</span>)</span>
<span id="cb41-12"><a aria-hidden="true" tabindex="-1"></a>      )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="creating-a-factor-fct-2" class="slide level2">
<h2>Creating a Factor – <code>fct</code></h2>
<p>You can also <strong>specify non-present levels</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42" data-code-line-numbers="3,13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a></a>eras_data <span class="sc">|&gt;</span> </span>
<span id="cb42-2"><a></a>  <span class="fu">pull</span>(Album) <span class="sc">|&gt;</span> </span>
<span id="cb42-3"><a></a>  <span class="fu">fct</span>(<span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Taylor Swift"</span>,</span>
<span id="cb42-4"><a></a>                 <span class="st">"Fearless"</span>,</span>
<span id="cb42-5"><a></a>                 <span class="st">"Speak Now"</span>,</span>
<span id="cb42-6"><a></a>                 <span class="st">"Red"</span>,</span>
<span id="cb42-7"><a></a>                 <span class="st">"1989"</span>,</span>
<span id="cb42-8"><a></a>                 <span class="st">"Reputation"</span>,</span>
<span id="cb42-9"><a></a>                 <span class="st">"Lover"</span>,</span>
<span id="cb42-10"><a></a>                 <span class="st">"Folklore"</span>,</span>
<span id="cb42-11"><a></a>                 <span class="st">"Evermore"</span>,</span>
<span id="cb42-12"><a></a>                 <span class="st">"Midnights"</span>,</span>
<span id="cb42-13"><a></a>                 <span class="st">"The Tortured Poets Department"</span>)</span>
<span id="cb42-14"><a></a>      ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="re-coding-a-factor-fct_recode" class="slide level2">
<h2>Re-coding a Factor – <code>fct_recode</code></h2>
<div class="small">
<p>Oops, we have a typo in some of our levels! We change existing levels with the syntax: <code>"&lt;new level&gt;" = "&lt;old level&gt;"</code>.</p>
</div>
<div class="fragment">
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a aria-hidden="true" tabindex="-1"></a>eras_data <span class="sc">|&gt;</span></span>
<span id="cb43-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Album =</span> <span class="fu">fct_recode</span>(<span class="at">.f =</span> Album,</span>
<span id="cb43-3"><a aria-hidden="true" tabindex="-1"></a>                            <span class="st">"folklore"</span> <span class="ot">=</span> <span class="st">"Folklore"</span>,</span>
<span id="cb43-4"><a aria-hidden="true" tabindex="-1"></a>                            <span class="st">"evermore"</span> <span class="ot">=</span> <span class="st">"Evermore"</span>,</span>
<span id="cb43-5"><a aria-hidden="true" tabindex="-1"></a>                            <span class="st">"reputation"</span> <span class="ot">=</span> <span class="st">"Reputation"</span>)</span>
<span id="cb43-6"><a aria-hidden="true" tabindex="-1"></a>         )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 25 × 2
   Song               Album     
   &lt;chr&gt;              &lt;fct&gt;     
 1 22                 Red       
 2 ...Ready for It?   reputation
 3 The Archer         Lover     
 4 Bejeweled          Midnights 
 5 Style              1989      
 6 You Belong With Me Fearless  
 7 Don't Blame Me     reputation
 8 illicit affairs    folklore  
 9 Lavender Haze      Midnights 
10 marjorie           evermore  
# ℹ 15 more rows</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="re-coding-a-factor-case_when" class="slide level2">
<h2>Re-coding a Factor – <code>case_when</code></h2>
<div class="small">
<p>We have similar functionality with the <code>case_when()</code> function…</p>
</div>
<div class="fragment">
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a aria-hidden="true" tabindex="-1"></a>eras_data <span class="sc">|&gt;</span></span>
<span id="cb45-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Album =</span> <span class="fu">case_when</span>(Album <span class="sc">==</span> <span class="st">"Folklore"</span> <span class="sc">~</span> <span class="st">"folklore"</span>,</span>
<span id="cb45-3"><a aria-hidden="true" tabindex="-1"></a>                           Album <span class="sc">==</span> <span class="st">"Evermore"</span> <span class="sc">~</span> <span class="st">"evermore"</span>,</span>
<span id="cb45-4"><a aria-hidden="true" tabindex="-1"></a>                           Album <span class="sc">==</span> <span class="st">"Reputation"</span> <span class="sc">~</span> <span class="st">"reputation"</span>,</span>
<span id="cb45-5"><a aria-hidden="true" tabindex="-1"></a>                           <span class="at">.default =</span> Album),</span>
<span id="cb45-6"><a aria-hidden="true" tabindex="-1"></a>         <span class="at">Album =</span> <span class="fu">fct</span>(Album)) <span class="sc">|&gt;</span> </span>
<span id="cb45-7"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Album)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] Red        reputation Lover      Midnights  1989       Fearless  
 [7] reputation folklore   Midnights  evermore   evermore   Lover     
[13] Lover      Red        reputation reputation Speak Now  Red       
[19] Midnights  Fearless   1989       Midnights  Fearless   folklore  
[25] Lover     
9 Levels: Red reputation Lover Midnights 1989 Fearless folklore ... Speak Now</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="collapsing-a-factor-fct_collapse" class="slide level2">
<h2>Collapsing a Factor –<code>fct_collapse</code></h2>
<div class="small">
<p>Collapse multiple existing levels of a factor with the syntax:</p>
<p><code>"&lt;new level&gt;" = c("&lt;old level&gt;", "&lt;old level&gt;", ...)</code>.</p>
</div>
<div class="fragment">
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a aria-hidden="true" tabindex="-1"></a>eras_data <span class="sc">|&gt;</span> </span>
<span id="cb47-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Genre =</span> <span class="fu">fct_collapse</span>(<span class="at">.f =</span> Album,</span>
<span id="cb47-3"><a aria-hidden="true" tabindex="-1"></a>                       <span class="st">"country pop"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Taylor Swift"</span>, <span class="st">"Fearless"</span>),</span>
<span id="cb47-4"><a aria-hidden="true" tabindex="-1"></a>                       <span class="st">"pop rock"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Speak Now"</span>, <span class="st">"Red"</span>),</span>
<span id="cb47-5"><a aria-hidden="true" tabindex="-1"></a>                       <span class="st">"electropop"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"1989"</span>, <span class="st">"Reputation"</span>, <span class="st">"Lover"</span>),</span>
<span id="cb47-6"><a aria-hidden="true" tabindex="-1"></a>                       <span class="st">"folk pop"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Folklore"</span>, <span class="st">"Evermore"</span>),</span>
<span id="cb47-7"><a aria-hidden="true" tabindex="-1"></a>                       <span class="st">"alt-pop"</span> <span class="ot">=</span> <span class="st">"Midnights"</span>)</span>
<span id="cb47-8"><a aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">|&gt;</span> </span>
<span id="cb47-9"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  Song                                    Album      Genre      
  &lt;chr&gt;                                   &lt;fct&gt;      &lt;fct&gt;      
1 willow                                  Evermore   folk pop   
2 You Belong With Me                      Fearless   country pop
3 Lavender Haze                           Midnights  alt-pop    
4 We Are Never Ever Getting Back Together Red        pop rock   
5 illicit affairs                         Folklore   folk pop   
6 Look What You Made Me Do                Reputation electropop </code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="re-leveling-a-factor-fct_relevel" class="slide level2">
<h2>Re-leveling a Factor –<code>fct_relevel</code></h2>
<p>Change the <strong>order</strong> of the levels of an existing factor.</p>
<div class="panel-tabset">
<ul id="tabset-6" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-6-1">Original</a></li><li><a href="#tabset-6-2">Ordered by Copies Sold</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a aria-hidden="true" tabindex="-1"></a>eras_data <span class="sc">|&gt;</span></span>
<span id="cb49-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Album) <span class="sc">|&gt;</span> </span>
<span id="cb49-3"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">levels</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Taylor Swift"                  "Fearless"                     
 [3] "Speak Now"                     "Red"                          
 [5] "1989"                          "Reputation"                   
 [7] "Lover"                         "Folklore"                     
 [9] "Evermore"                      "Midnights"                    
[11] "The Tortured Poets Department"</code></pre>
</div>
</div>
</div>
<div id="tabset-6-2">
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a aria-hidden="true" tabindex="-1"></a>eras_data <span class="sc">|&gt;</span> </span>
<span id="cb51-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Album) <span class="sc">|&gt;</span></span>
<span id="cb51-3"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">fct_relevel</span>(<span class="fu">c</span>(<span class="st">"Fearless"</span>,</span>
<span id="cb51-4"><a aria-hidden="true" tabindex="-1"></a>                <span class="st">"1989"</span>,</span>
<span id="cb51-5"><a aria-hidden="true" tabindex="-1"></a>                <span class="st">"Taylor Swift"</span>,</span>
<span id="cb51-6"><a aria-hidden="true" tabindex="-1"></a>                <span class="st">"Speak Now"</span>,</span>
<span id="cb51-7"><a aria-hidden="true" tabindex="-1"></a>                <span class="st">"Red"</span>,</span>
<span id="cb51-8"><a aria-hidden="true" tabindex="-1"></a>                <span class="st">"Midnights"</span>,</span>
<span id="cb51-9"><a aria-hidden="true" tabindex="-1"></a>                <span class="st">"Reputation"</span>,</span>
<span id="cb51-10"><a aria-hidden="true" tabindex="-1"></a>                <span class="st">"Folklore"</span>,</span>
<span id="cb51-11"><a aria-hidden="true" tabindex="-1"></a>                <span class="st">"Lover"</span>,</span>
<span id="cb51-12"><a aria-hidden="true" tabindex="-1"></a>                <span class="st">"Evermore"</span>)</span>
<span id="cb51-13"><a aria-hidden="true" tabindex="-1"></a>              ) <span class="sc">|&gt;</span> </span>
<span id="cb51-14"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">levels</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="re-ordering-factors-in-ggplot2" class="slide level2">
<h2>Re-ordering Factors in <code>ggplot2</code></h2>
<div class="panel-tabset">
<ul id="tabset-7" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-7-1">Original</a></li><li><a href="#tabset-7-2">Plot</a></li><li><a href="#tabset-7-3">Specify Levels</a></li><li><a href="#tabset-7-4">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1">
<p>The bars follow the default factor levels.</p>
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb52" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a></a>full_eras <span class="sc">|&gt;</span> </span>
<span id="cb52-2"><a></a>  <span class="fu">mutate</span>(<span class="at">Album =</span> <span class="fu">fct</span>(Album)) <span class="sc">|&gt;</span> </span>
<span id="cb52-3"><a></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> Album,</span>
<span id="cb52-4"><a></a>               <span class="at">fill =</span> Album)</span>
<span id="cb52-5"><a></a>         ) <span class="sc">+</span></span>
<span id="cb52-6"><a></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb52-7"><a></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb52-8"><a></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb52-9"><a></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb52-10"><a></a>       <span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb52-11"><a></a>       <span class="at">title =</span> <span class="st">"Number of Songs Played on the Eras Tour by Album"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-7-2">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="week-4-joins_files/figure-revealjs/unnamed-chunk-63-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-7-3">
<div class="small">
<p>We can order factor levels to order the bar plot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53" data-code-line-numbers="2-13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a></a>full_eras <span class="sc">|&gt;</span> </span>
<span id="cb53-2"><a></a>  <span class="fu">mutate</span>(<span class="at">Album =</span> <span class="fu">fct</span>(Album,</span>
<span id="cb53-3"><a></a>                     <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Fearless"</span>,</span>
<span id="cb53-4"><a></a>                                <span class="st">"Speak Now"</span>,</span>
<span id="cb53-5"><a></a>                                <span class="st">"Red"</span>,</span>
<span id="cb53-6"><a></a>                                <span class="st">"1989"</span>,</span>
<span id="cb53-7"><a></a>                                <span class="st">"Reputation"</span>,</span>
<span id="cb53-8"><a></a>                                <span class="st">"Lover"</span>,</span>
<span id="cb53-9"><a></a>                                <span class="st">"Folklore"</span>,</span>
<span id="cb53-10"><a></a>                                <span class="st">"Evermore"</span>,</span>
<span id="cb53-11"><a></a>                                <span class="st">"Midnights"</span>)</span>
<span id="cb53-12"><a></a>                     )</span>
<span id="cb53-13"><a></a>         ) <span class="sc">|&gt;</span> </span>
<span id="cb53-14"><a></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> Album,</span>
<span id="cb53-15"><a></a>               <span class="at">fill =</span> Album)</span>
<span id="cb53-16"><a></a>         ) <span class="sc">+</span></span>
<span id="cb53-17"><a></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb53-18"><a></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb53-19"><a></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb53-20"><a></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb53-21"><a></a>       <span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb53-22"><a></a>       <span class="at">title =</span> <span class="st">"Number of Songs Played on the Eras Tour by Album"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-7-4">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="week-4-joins_files/figure-revealjs/unnamed-chunk-65-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="re-ordering-factors-in-ggplot2-1" class="slide level2">
<h2>Re-ordering Factors in <code>ggplot2</code></h2>
<div class="small">

</div>
<div class="panel-tabset">
<ul id="tabset-8" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-8-1">Original</a></li><li><a href="#tabset-8-2">Plot</a></li><li><a href="#tabset-8-3"><code>fct_reorder()</code></a></li><li><a href="#tabset-8-4">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1">
<div class="small">
<p>The ridge plots follow the order of the factor levels.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a></a>full_eras <span class="sc">|&gt;</span> </span>
<span id="cb54-2"><a></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Length, </span>
<span id="cb54-3"><a></a>                       <span class="at">y =</span> Album, </span>
<span id="cb54-4"><a></a>                       <span class="at">fill =</span> Album)</span>
<span id="cb54-5"><a></a>         ) <span class="sc">+</span></span>
<span id="cb54-6"><a></a>  <span class="fu">geom_density_ridges</span>() <span class="sc">+</span></span>
<span id="cb54-7"><a></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb54-8"><a></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)<span class="sc">+</span></span>
<span id="cb54-9"><a></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Song Length (mins)"</span>,</span>
<span id="cb54-10"><a></a>       <span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb54-11"><a></a>       <span class="at">title =</span> <span class="st">"Length of Songs Played on the Eras Tour by Album"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-8-2">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="week-4-joins_files/figure-revealjs/unnamed-chunk-68-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-8-3">
<div class="small">
<p>Inside <code>ggplot()</code>, we can order factor levels by a summary value.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55" data-code-line-numbers="3-5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a></a>full_eras <span class="sc">|&gt;</span> </span>
<span id="cb55-2"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Length, </span>
<span id="cb55-3"><a></a>             <span class="at">y =</span> <span class="fu">fct_reorder</span>(<span class="at">.f =</span> Album,</span>
<span id="cb55-4"><a></a>                             <span class="at">.x =</span> Length,</span>
<span id="cb55-5"><a></a>                             <span class="at">.fun =</span> mean), </span>
<span id="cb55-6"><a></a>             <span class="at">fill =</span> Album)</span>
<span id="cb55-7"><a></a>         ) <span class="sc">+</span></span>
<span id="cb55-8"><a></a>  <span class="fu">geom_density_ridges</span>() <span class="sc">+</span></span>
<span id="cb55-9"><a></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb55-10"><a></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb55-11"><a></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Song Length (mins)"</span>,</span>
<span id="cb55-12"><a></a>       <span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb55-13"><a></a>       <span class="at">title =</span> <span class="st">"Length of Songs Played on the Eras Tour by Album"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-8-4">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="week-4-joins_files/figure-revealjs/unnamed-chunk-70-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="re-ordering-factors-in-ggplot2-2" class="slide level2">
<h2>Re-ordering Factors in <code>ggplot2</code></h2>
<div class="panel-tabset">
<ul id="tabset-9" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-9-1">Original</a></li><li><a href="#tabset-9-2">Plot</a></li><li><a href="#tabset-9-3"><code>fct_reorder2()</code></a></li><li><a href="#tabset-9-4">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1">
<div class="small">
<p>The legend follows the order of the factor levels.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56" data-code-line-numbers="7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a></a>full_eras <span class="sc">|&gt;</span> </span>
<span id="cb56-2"><a></a>  <span class="fu">filter</span>(<span class="sc">!</span>Album <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"1989"</span>,<span class="st">"Fearless"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb56-3"><a></a>  <span class="fu">group_by</span>(Album, Single) <span class="sc">|&gt;</span> </span>
<span id="cb56-4"><a></a>  <span class="fu">summarise</span>(<span class="at">avg_len =</span> <span class="fu">mean</span>(Length)) <span class="sc">|&gt;</span> </span>
<span id="cb56-5"><a></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Single, </span>
<span id="cb56-6"><a></a>                       <span class="at">y =</span> avg_len, </span>
<span id="cb56-7"><a></a>                       <span class="at">color =</span> Album)) <span class="sc">+</span></span>
<span id="cb56-8"><a></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb56-9"><a></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb56-10"><a></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb56-11"><a></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>),</span>
<span id="cb56-12"><a></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"No"</span>, <span class="st">"Yes"</span>)</span>
<span id="cb56-13"><a></a>                     ) <span class="sc">+</span></span>
<span id="cb56-14"><a></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb56-15"><a></a>       <span class="at">title =</span> <span class="st">"Are Taylor Swift's Singles Shorter?"</span>,</span>
<span id="cb56-16"><a></a>       <span class="at">color =</span> <span class="st">"Album"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-9-2">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="week-4-joins_files/figure-revealjs/unnamed-chunk-73-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-9-3">
<div class="small">
<p>Inside <code>ggplot()</code>, we can order factor levels by the <span class="math inline">\(y\)</span> values associated with the largest <span class="math inline">\(x\)</span> values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57" data-code-line-numbers="7-9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a></a>full_eras <span class="sc">|&gt;</span> </span>
<span id="cb57-2"><a></a>  <span class="fu">filter</span>(<span class="sc">!</span>Album <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"1989"</span>,<span class="st">"Fearless"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb57-3"><a></a>  <span class="fu">group_by</span>(Album, Single) <span class="sc">|&gt;</span> </span>
<span id="cb57-4"><a></a>  <span class="fu">summarise</span>(<span class="at">avg_len =</span> <span class="fu">mean</span>(Length)) <span class="sc">|&gt;</span> </span>
<span id="cb57-5"><a></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Single, </span>
<span id="cb57-6"><a></a>                       <span class="at">y =</span> avg_len, </span>
<span id="cb57-7"><a></a>                       <span class="at">color =</span> <span class="fu">fct_reorder2</span>(<span class="at">.f =</span> Album,</span>
<span id="cb57-8"><a></a>                                            <span class="at">.x =</span> Single,</span>
<span id="cb57-9"><a></a>                                            <span class="at">.y =</span> avg_len)</span>
<span id="cb57-10"><a></a>                       )</span>
<span id="cb57-11"><a></a>         ) <span class="sc">+</span></span>
<span id="cb57-12"><a></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb57-13"><a></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb57-14"><a></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb57-15"><a></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>),</span>
<span id="cb57-16"><a></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"No"</span>, <span class="st">"Yes"</span>)</span>
<span id="cb57-17"><a></a>                     ) <span class="sc">+</span></span>
<span id="cb57-18"><a></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb57-19"><a></a>       <span class="at">title =</span> <span class="st">"Are Taylor Swift's Singles Shorter?"</span>,</span>
<span id="cb57-20"><a></a>       <span class="at">color =</span> <span class="st">"Album"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-9-4">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="week-4-joins_files/figure-revealjs/unnamed-chunk-75-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="lab-4-childcare-costs-in-california" class="title-slide slide level1 center">
<h1><a href="../../labs/instructions/lab-4-instructions.html">Lab 4: Childcare Costs in California</a></h1>
<div class="columns">
<div class="column" style="width:40%;">

</div><div class="column" style="width:5%;">

</div><div class="column" style="width:55%;">
<p><img data-src="images/childcare-cost-map.png" alt="The image is a color-coded map of the United States, showing the cost of childcare across different states. The map uses a gradient scale from light green (representing lower costs around $5,000) to dark blue (representing higher costs around $21,000). States with the most expensive childcare, such as Massachusetts ($21,019) and Washington, D.C. ($20,913), are shaded in dark blue, indicating the highest costs. States with lower costs, such as Mississippi ($5,436) and Alabama ($6,001), are shaded in light green. The map's data comes from the Economic Policy Institute, with the source indicated as Money Scoop, and was created using Datawrapper."></p>
</div></div>
</section>
<section id="chatgpt-to-the-rescue" class="slide level2">
<h2>ChatGPT to the Rescue!</h2>
<div class="columns">
<div class="column" style="width:40%;">
<blockquote>
<p><a href="https://chatgpt.com/c/67103b47-d8ec-8012-bb72-5cb0467ebe18">collapse the CA regions into the 10 Census regions</a></p>
</blockquote>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:55%;">
<p><img data-src="images/ca-counties.png" alt="The image displays a map of California divided into regions based on the 2020 Census, along with a table listing the counties in each region. The map on the left uses different colors to highlight each of the 10 regions, with areas such as the San Francisco Bay Area and South Coast labeled. A legend at the bottom of the map assigns numbers and colors to each region: Superior California, North Coast, San Francisco Bay Area, Northern San Joaquin Valley, Central Coast, Southern San Joaquin Valley, Inland Empire, Los Angeles County, Orange County, and San Diego/Imperial. On the right side, a table lists the regions by number and their respective counties. For example, Region 1 includes counties like Butte, Colusa, and El Dorado, while Region 8 consists solely of Los Angeles County. Other regions contain a mix of multiple counties, such as Region 3, which includes Alameda, Contra Costa, and San Francisco."></p>
</div></div>
</section>
<section id="dplyr-resources" class="slide level2">
<h2>dplyr Resources</h2>
<div class="columns">
<div class="column" style="width:60%;">
<p>Every group should have a <strong>dplyr</strong> cheatsheet!</p>
<p><strong>On the Back</strong>: The Combine Tables section gives advice on joining two datasets</p>
<ul>
<li>The “Filtering Join” section will be helpful when performing an <code>anti_join()</code>!</li>
</ul>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:35%;">
<p><img data-src="images/dplyr-cheatsheet-back.png" alt="A picture of the dplyr cheatsheet, which contains helpful information on working with data in a variety of ways."></p>
</div></div>
</section>
<section id="to-do" class="slide level2">
<h2>To do…</h2>
<ul>
<li><strong>Lab 4: Childcare Costs in California</strong>
<ul>
<li>Due Sunday (10/20) at 11:59pm</li>
</ul></li>
<li><strong>Read Chapter 5: Strings + Dates</strong>
<ul>
<li><strong>Check-in 5.1</strong> due Tuesday (10/22) at 12:10pm</li>
<li><strong>Check-in 5.2</strong> due Thursday (10/24) at 12:10pm</li>
</ul></li>
</ul>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/github\.com\/atheobold\/groupworthy-data-science");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>